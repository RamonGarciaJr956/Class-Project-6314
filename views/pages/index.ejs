<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head') %>

<body class="bg-gray-50">

  <%- include('../partials/navbar', { user: user }) %>

  <section class="relative bg-gray-900 text-white overflow-hidden min-h-screen">

    <div class="container mx-auto px-6 py-24">
      <div class="flex lg:flex-row items-center justify-between gap-12 flex-col-reverse">
        <div class="flex-1 relative z-10">
          <div class="relative">
            <div class="absolute -left-4 -top-4 w-20 h-20 bg-purple-600/20 rounded-full blur-xl"></div>
            <h1 class="text-4xl md:text-5xl lg:text-5xl font-bold leading-tight mb-6">
              Preserving
              <span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-purple-600">Digital Heritage</span>
              One Device at a Time
            </h1>
          </div>

          <p class="text-lg text-gray-300 mb-8 max-w-xl">
            Professional restoration of classic computers, consoles, and electronics.
            Each piece is expertly refurbished to meet modern standards while
            preserving its historic charm.
          </p>

          <div class="flex flex-col sm:flex-row gap-4">
            <a href="/shop" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold py-3 px-8 rounded-lg flex items-center justify-center group transition-all duration-300">
              <span>Explore Collection</span>
              <i class="w-5 h-5 ml-2 transition-transform duration-300 group-hover:translate-x-1" data-lucide="chevron-right"></i>
            </a>
          </div>

          <div class="md:grid hidden mt-12 grid-cols-2 sm:grid-cols-3 gap-8">
            <div>
              <h4 class="text-3xl font-bold text-purple-400">2.5K+</h4>
              <p class="text-gray-400">Items Restored</p>
            </div>
            <div>
              <h4 class="text-3xl font-bold text-purple-400">98%</h4>
              <p class="text-gray-400">Success Rate</p>
            </div>
            <div>
              <h4 class="text-3xl font-bold text-purple-400">15+</h4>
              <p class="text-gray-400">Years Experience</p>
            </div>
          </div>
        </div>

        <div class="flex-1 relative p-4">
          <div class="absolute -right-20 -top-20 w-40 h-40 bg-purple-600/20 rounded-full blur-3xl"></div>
          <div class="absolute -left-10 -bottom-10 w-40 h-40 bg-blue-600/20 rounded-full blur-3xl"></div>

          <div class="relative">
            <div class="absolute inset-0 bg-gradient-to-tr from-purple-600/20 to-transparent rounded-2xl"></div>
            <img src="/images/hero.jpg" alt="Repair" class="relative rounded-2xl shadow-2xl w-full aspect-square object-cover hover:scale-[1.02] transition-transform duration-300" />

            <div class="absolute -bottom-6 -left-6 bg-white/10 backdrop-blur-md rounded-lg p-4 shadow-lg border border-white/20">
              <div class="flex items-center gap-3">
                <i class="w-8 h-8 text-purple-400" data-lucide="award"></i>
                <div>
                  <h4 class="font-semibold">Certified Restorer</h4>
                  <p class="text-sm text-gray-400">Premium Quality</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-white" id="services">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-12">Our Services</h2>
      <div class="grid md:grid-cols-3 gap-8">
        <div class="bg-gray-50 p-6 rounded-lg">
          <div class="text-purple-600 mb-4">
            <i class="w-12 h-12" data-lucide="shield-minus"></i>
          </div>
          <h3 class="text-xl font-bold mb-2">Restoration</h3>
          <p class="text-gray-600">Complete restoration of vintage consoles using original parts and professional techniques.</p>
        </div>
        <div class="bg-gray-50 p-6 rounded-lg">
          <div class="text-purple-600 mb-4">
            <i class="w-12 h-12" data-lucide="shopping-bag"></i>
          </div>
          <h3 class="text-xl font-bold mb-2">Sales</h3>
          <p class="text-gray-600">Curated collection of fully restored classic consoles ready for your gaming enjoyment.</p>
        </div>
        <div class="bg-gray-50 p-6 rounded-lg">
          <div class="text-purple-600 mb-4">
            <i class="w-12 h-12" data-lucide="wrench"></i>
          </div>
          <h3 class="text-xl font-bold mb-2">Repairs</h3>
          <p class="text-gray-600">Expert repair service for your beloved retro gaming systems.</p>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-12">Featured Products</h2>

      <div class="grid md:grid-cols-4 gap-6">

        <% bestSellingProducts.forEach(function(product) { %>
        <div class="bg-white rounded-lg overflow-hidden shadow-lg">
          <div class="h-48 bg-gray-200 flex items-center justify-center">
            <img src="<%= product.mainImageUrl %>" alt="Sega Genesis" class="w-full h-48 object-cover">
          </div>
          <div class="p-4">
            <h3 class="font-bold mb-2"><%= product.name %></h3>
            <p class="text-gray-600 mb-2"><%= product.description %></p>
            <p class="text-purple-600 font-bold mb-4">$<%= product.price %></p>
            <a href="/product/<%= product.id %>" class="w-full bg-purple-600 text-white py-2 rounded hover:bg-purple-700 flex items-center justify-center">
              <span>View Details</span>
              <i class="w-4 h-4 ml-2" data-lucide="arrow-right"></i>
            </a>
          </div>
        </div>
        <% }) %>

      </div>
    </div>
  </section>

  <section class="py-16 bg-white" id="about">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-12">Why Choose Us</h2>
      <div class="grid md:grid-cols-3 gap-8">
        <div class="text-center">
          <div class="text-purple-600 mb-4 flex justify-center">
            <i class="w-16 h-16" data-lucide="award"></i>
          </div>
          <h3 class="font-bold mb-2">Expert Restoration</h3>
          <p class="text-gray-600">15+ years of experience in console restoration</p>
        </div>
        <div class="text-center">
          <div class="text-purple-600 mb-4 flex justify-center">
            <i class="w-16 h-16" data-lucide="shield-check"></i>
          </div>
          <h3 class="font-bold mb-2">90-Day Warranty</h3>
          <p class="text-gray-600">All restored consoles come with our guarantee</p>
        </div>
        <div class="text-center">
          <div class="text-purple-600 mb-4 flex justify-center">
            <i class="w-16 h-16" data-lucide="check-circle"></i>
          </div>
          <h3 class="font-bold mb-2">Authentic Parts</h3>
          <p class="text-gray-600">Only genuine components used in restoration</p>
        </div>
      </div>
    </div>
  </section>

  <section class="py-16 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-12">Customer Reviews</h2>
      <div class="grid md:grid-cols-3 gap-8">

        <% testimonials.forEach(function(testimonial) { %>
        <%- include('../partials/testimonial', { testimonial: testimonial }) %>
        <% }) %>

      </div>
    </div>
  </section>

  <section class="py-16 bg-gray-900 text-white" id="contact">
    <div class="container mx-auto px-4">
      <div class="max-w-2xl mx-auto text-center">
        <h2 class="text-3xl font-bold mb-8">Ready to Restore Your Classic Console?</h2>
        <p class="mb-8">Contact us today for a free consultation and quote.</p>
        <form class="max-w-md mx-auto space-y-4" id="quote-email">
          <div class="relative">
            <input type="email" placeholder="Your email" class="w-full pl-10 pr-3 py-3 rounded text-gray-900">
            <div class="absolute left-3 top-3 text-gray-400">
              <i class="w-5 h-5" data-lucide="mail"></i>
            </div>
          </div>
          <button onclick="return quoteEmail(event)" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-8 rounded flex items-center justify-center">
            <span>Get Started</span>
            <i class="w-5 h-5 ml-2" data-lucide="send"></i>
          </button>
        </form>
      </div>
    </div>
  </section>

  <script>
    lucide.createIcons();

    function quoteEmail(event) {
      event.preventDefault();
      const email = document.querySelector('#quote-email input').value;
      
      fetch('/api/quote-email', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ email })
      }).then((res) => {
        if (res.ok) {
          alert_message('Success', 'Your quote request has been received. We will be in touch shortly.', 'green');
        } else {
          alert_message('Error', 'There was an error processing your request. Please try again.', 'red');
        }
      });
    }

    function alert_message(title, message, color) {
      const alert = document.querySelector('[role="alert"]');
      if (alert) {
        alert.remove();
      }
      
      const form = document.querySelector('#quote-email');

      const message_template = `
        <div role="alert" class="rounded border-s-4 border-${color}-500 bg-${color}-50 p-4">
          <strong class="block font-medium text-${color}-800">${title}</strong>

          <p class="mt-2 text-${color}-700 text-sm">
            ${message}
          </p>
        </div>
      `;

      form.insertAdjacentHTML('afterbegin', message_template);
    }
  </script>
</body>

<%- include('../partials/footer') %>

</html>